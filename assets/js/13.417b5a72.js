(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{378:function(t,a,s){"use strict";s.r(a);var e=s(11),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("一些日常工作的nuxt学习笔记")]),t._v(" "),a("h2",{attrs:{id:"asyncdata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#asyncdata"}},[t._v("#")]),t._v(" asyncData")]),t._v(" "),a("p",[t._v("在服务端或者路由更替时执行的代码。返回的对象会赋值给data，如果data中以及会有对应的键存在，会被覆盖")]),t._v(" "),a("h2",{attrs:{id:"client-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client-only"}},[t._v("#")]),t._v(" client-only")]),t._v(" "),a("p",[t._v("是一个组件，被包裹在内的，只会在客户端渲染（一般来说，一些服务器没有的api，或者会用到不适合在服务端请求获得的数据应当用该组件包裹起来）")]),t._v(" "),a("h2",{attrs:{id:"路由中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由中间件"}},[t._v("#")]),t._v(" 路由中间件")]),t._v(" "),a("p",[t._v("nuxt的路由中间件（也称为路由导航）,可以在三处地方进行，执行顺序依次如下排序")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("nuxt.config.js")]),t._v("文件进行配置，该配置会应用到所有到所有路由上。")])]),t._v(" "),a("p",[t._v("配置方法：")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("router")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleware")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stats'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 也可以是数组。这里填写stats，就是去会去匹配middleware文件夹下的stats文件")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("匹配布局（layouts文件夹下的文件）")]),t._v(" "),a("li",[t._v("匹配页面（pages文件夹下的文件）")])]),t._v(" "),a("p",[t._v("配置方法：")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("export default {\n  middleware: 'stats'\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"validate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validate"}},[t._v("#")]),t._v(" validate")]),t._v(" "),a("p",[t._v("校验路由参数参数，返回值是布尔值。目前不知道有什么场景需要这样使用")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("sync "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// await operations")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果参数有效")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将停止Nuxt.js呈现页面并显示错误页面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"cookie-universal-nuxt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-universal-nuxt"}},[t._v("#")]),t._v(" cookie-universal-nuxt")]),t._v(" "),a("p",[t._v("一款方便处理cookie的nuxt常见")]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[a("code",[t._v("npm i cookie-universal-nuxt -S")])]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("nuxt.config.js")]),t._v("添加"),a("code",[t._v("moudules:['cookie-universal-nuxt']")])]),t._v(" "),a("h3",{attrs:{id:"基础使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础使用方法"}},[t._v("#")]),t._v(" 基础使用方法")]),t._v(" "),a("p",[t._v("因为是安装在全局的，所以可以直接：")]),t._v(" "),a("p",[t._v("设置cookie "),a("code",[t._v("this.$cookies.set('token','test123')")])]),t._v(" "),a("p",[t._v("获取cookie"),a("code",[t._v("this.$cookie.get('token')")])]),t._v(" "),a("p",[t._v("清除cookie"),a("code",[t._v("this.$cookie.remove('token')")])])])}),[],!1,null,null,null);a.default=n.exports}}]);